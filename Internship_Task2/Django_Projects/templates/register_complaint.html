{% extends 'base.html' %}

{% block title %}Register complaint - Grievance Pro{% endblock %}


{% block content %}
<h1>Register Complaint</h1>
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    
    <div>
        <label for="title">Title</label>
        <input type="text" name="title" required>
    </div>
    
    <div>
        <label for="description">Description</label>
        <textarea rows="10" cols="10" name="description" required></textarea>
    </div>

    <div>
        <label for="category">Category</label>
        <select name="category" required>
            <option value="">Select Category</option>
            {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
        </select>
    </div>
    
    <div>
        <label for="priority">Priority</label>
        <select name="priority" required>
            <option value="High">High</option>
            <option value="Medium">Medium</option>
            <option value="Low">Low</option>
        </select>
    </div>

    <div>
        <label for="department">Department Assigned To</label>
        <select name="department" required>
            <option value="">Select Department</option>
            {% for department in departments %}
                <option value="{{ department.id }}">{{ department.name }}</option>
            {% endfor %}
        </select>
    </div>

    <div>
        <label for="attachment">Attachment (Optional)</label>
        <input type="file" name="attachment">
    </div>

    <button type="submit">Submit Complaint</button>
</form>

{% if message %}
    <p>{{ message }}</p>
{% endif %}

<style>
    h1 {
        text-align: center;
        color: #333;
    }
    form {
        max-width: 600px;
        margin: auto;
        padding: 50px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #f9f9f9;
    }
    form label {
        display: block;
        margin: 10px 0 5px;
        font-weight: bold;
    }
    form input, form textarea, form select {
        width: 100%;
        padding: 8px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    form button {
        display: block;
        margin: auto;
        padding: 10px 20px;
        background-color: #323232;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    form button:hover {
        background-color: #000000;
    }
</style>
{% endblock %}
